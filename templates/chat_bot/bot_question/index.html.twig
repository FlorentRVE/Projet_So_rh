
{% extends 'base.html.twig' %}

{% block title %}Gestion Chatbot{% endblock %}

{% block body %}
    {# ======================== Sidebar ========================== #}

    {{ include('component/_sidebar.html.twig') }}

    {# ==================== Content ======================= #}
    <main>
        <div class="ml-[20vw] bg-sky-200 min-h-screen">

            <div class="flex flex-col p-4 justify-center items-center bg-slate-50">
                <h1 class="text-3xl font-semibold text-center">Gestion du chatbot</h1>
            </div>

            <div class="flex flex-col md:flex-row md:flex-wrap gap-6 text-[2rem] text-slate-50 w-[95%] items-center mx-auto mt-8 justify-center lg:w-[80%]">

                <a href="{{ path('app_bot_categorie_index') }}" class="bg-sky-500 rounded-xl flex items-center justify-between p-4 shadow-lg hover:cursor-pointer hover:scale-105 min-h-[10vh] w-[60vw] md:w-[17rem]">
                    <h4 class="">Categories</h4>
                    <p class="text-[2rem] mr-2 lg:self-end"><i class="fa-solid fa-circle-chevron-right"></i></p>
                </a>

                <a href="{{ path('app_bot_question_index') }}" class="bg-sky-500 rounded-xl flex items-center justify-between p-4 shadow-lg hover:cursor-pointer hover:scale-105 min-h-[10vh] w-[60vw] md:w-[17rem]">
                    <h4 class="">Questions</h4>
                    <p class="text-[2rem] mr-2 lg:self-end"><i class="fa-solid fa-circle-chevron-right"></i></p>
                </a>

                              
            </div>

            <div class="flex flex-col p-4 mt-4 justify-center items-center">

                <a href="{{ path('app_bot_question_new') }}" class="text-slate-50 text-xl text-center bg-sky-800 mb-5 px-4 py-3 font-bold rounded-lg w-[90%]">Nouvelle question</a>

                <table class="w-full">
                    <tbody>
                    {% for bot_question in bot_questions %}
                        <tr class="border-2 border-slate-900">
                            <td class="border-2 border-slate-900 bg-slate-50 text-center font-semibold p-2 lg:text-xl w-[65%]">
                                <p>{{ bot_question.question }}</p>
                                <p>{{ bot_question.reponse }}</p>
                            </td>                      

                            <td class="border-2 border-slate-900 bg-slate-950 text-center lg:text-xl">

                                <a href="{{ path('app_bot_question_edit', {'id': bot_question.id}) }}" class="text-slate-100 text-center px-3 hover:brightness-125 hover:text-orange-400 hover:scale-110 font-semibold">Modifier</a>
                                <form method="post" action="{{ path('app_bot_question_delete', {'id': bot_question.id}) }}" onsubmit="return confirm('Voulez vous vraiment supprimer cette question ?');">
                                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ bot_question.id) }}">
                                    <button class="btn text-red-700  text-center px-3  hover:brightness-125 hover:scale-110 font-semibold">Supprimer</button>
                                </form>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="border-2 border-slate-900 bg-slate-50 text-2xl text-center">
                            <td colspan="3">Aucun bot_question ...</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>                
            </div>
        </div>
    </main>
{% endblock %}
