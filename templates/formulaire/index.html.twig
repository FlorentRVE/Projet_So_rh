{% extends 'base.html.twig' %}

{% block title %}Formulaire index{% endblock %}

{% block body %}
    {# ======================== Sidebar ========================== #}
    <sidebar class="bg-cyan-950 fixed left-0 top-0 h-screen rounded-tr-3xl">
        <div class="flex flex-col items-center w-[20vw]">

            {# ===== LOGO ====== #}
            <a href="{{ path('app_accueil') }}">

                <img src="{{ asset('img/logo_clair.png') }}" alt="logo" class="w-[15vw] mt-8">
            <a>

            <div class="flex flex-col items-center gap-3 mt-10 border-t border-slate-600 pt-4 font-semibold text-[1.5vh]">

                <a href="{{ path('app_accueil') }}" class="text-slate-50 text-center hover:bg-sky-800 mb-5 px-2 py-1 rounded-lg w-full">Gestion formulaire</a>
                <a href="{{ path('app_accueil') }}" class="text-slate-50 text-center hover:bg-sky-800 mb-5 px-2 py-1 rounded-lg w-full h-auto">Gestion utilisateurs</a>

                <a href="{{ path('app_accueil') }}" class="text-slate-50 text-center hover:bg-sky-800 my-5 px-2 py-1 rounded-lg w-full">Se déconnecter</a>
            </div>
        </div>
    </sidebar>

    {# ==================== Content ======================= #}
    <content>
        <div class="ml-[20vw] bg-sky-200 min-h-screen">

            <div class="flex flex-col p-4 justify-center items-center bg-slate-50">

                <h1 class="text-3xl font-semibold text-center">Administration</h1>

            </div>

            <div class="flex flex-col p-4 mt-4 justify-center items-center">

                <a href="{{ path('app_formulaire_new') }}" class="text-slate-50 text-xl text-center bg-sky-800 mb-5 px-4 py-3 font-bold rounded-lg w-[90%]">Nouveau formulaire</a>

                <table class="w-full">
                    <tbody>
                    {% for formulaire in formulaires %}
                        <tr class="border-2 border-slate-900">
                            <td class="border-2 border-slate-900 w-[70%] bg-slate-50 text-center font-semibold text-2xl">{{ formulaire.label }}</td>
                            <td class="border-2 border-slate-900 w-[30%] bg-slate-950">
                                <div class="flex flex-col items-center p-2 font-semibold">
                                    <a href="{{ path('app_champs_index', {'id': formulaire.id}) }}" class="text-slate-50 text-center bg-sky-800 mt-5 px-4 py-1 rounded-lg">Modifier champs du formulaire</a>
                                    <a href="{{ path('app_formulaire_edit', {'id': formulaire.id}) }}" class="text-slate-50 text-center bg-sky-800 mt-5 px-4 py-1 rounded-lg">Gérer le formulaire</a>
                                </div>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="3">Pas de formulaire</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>                
            </div>
        </div>
    </content>
{% endblock %}
